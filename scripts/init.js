let conexion = require('../api/config/db')
// let { db } = require('../api/config/db')
let personas = require('../api/movil/test/dump/personas.json')
let accidentes = require('../api/movil/test/dump/accidentes.json')
let areasTrabajo = require('../api/movil/test/dump/areasTrabajo.json')
let capacitaciones = require('../api/movil/test/dump/capacitaciones.json')
let empresas = require('../api/movil/test/dump/empresas.json')
let equiposSeguridad = require('../api/movil/test/dump/equiposSeguridad.json')
let inpecciones = require('../api/movil/test/dump/inspecciones.json')
let novedades = require('../api/movil/test/dump/novedades.json')
let establecimientos = require('../api/movil/test/dump/establecimientos.json')
let personas_establecimientos = require('../api/movil/test/dump/personas_establecimientos.json')
let puestosTrabajo = require('../api/movil/test/dump/puestosTrabajo.json')
let puestosTrabajo_equiposSeguridad = require('../api/movil/test/dump/puestosTrabajo_equiposSeguridad.json')
let riesgos = require('../api/movil/test/dump/riesgos.json')


conexion.Conectar().then(async (db) => {
  // process.sleep(2)
  await db.personas.Crear(personas[0])
  await db.establecimientos.Crear({ empresa_id: 1, ...establecimientos[0]})
  await db.accidentes.Crear({ ...accidentes[0], puestos_id: 1})
  await db.areas.Crear({ ...areasTrabajo[0], establecimientos_id: 1})
  await db.capacitaciones.Crear({ ...capacitaciones[0], establecimientos_id: 1})
  await db.empresas.Crear(empresas[0])
  await db.equipos.Crear(equiposSeguridad[0])
  await db.inspecciones.Crear(inpecciones[0])
  await db.novedades.Crear({ ...novedades[0], inspecciones_id: 1, puestos_id: 1})
  await db.personas_establecimientos.Crear({ ...personas_establecimientos[0], personas_id: 1, establecimientos_id: 1})
  await db.puestos.Crear({ ...puestosTrabajo[0], areas_id: 1})
  await db.puestos_equipos.Crear({ ...puestosTrabajo_equiposSeguridad[0], puestos_id: 1, equipos_id: 1})

  await db.areas_puestos.Crear({ areas_id: 1, puestos_id: 1})
  await db.equipos_areas.Crear({ areas_id: 1, equipos_id: 1, cantidad: 2 })
  await db.personas_capacitaciones.Crear({ personas_id: 1, capacitaciones_id: 1})
  await db.personas_puestos.Crear({ personas_id: 1, puestos_id: 1})
  await db.riesgos.Crear({ ...riesgos[0], puestos_id: 1})
  // await db.Novedad.Crear(novedades[0])
  // await conexion.Desconectar()
}).catch((err) => {
  console.log(err)
})
